<!DOCTYPE html>
<html>
<head>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
</head>
<body>

	<script>
		var url = "https://api.citybik.es/v2/networks/citi-bike-nyc";
		var myLat = 40.717613;
		var myLon = -74.003129;
		$.getJSON( url, function(data){
			// console.log(data);
			// var stations = data.network.stations.sort;
			var stations = data.network.stations.sort(function(a,b){
				var latA = Math.abs(a.latitude - myLat);
				var lonA = Math.abs(a.latitude - myLon);

				var latB = Math.abs(b.latitude - myLat);
				var lonB = Math.abs(b.latitude - myLon);

				return (latA)
			});
			// console.log(stations[300]);
			// going inside the object, then more objects and arrays

			// console.log(stations[300]["name"]);
			// console.log(stations[300].name);

			// var i = 0;
			// while (i<809){
			// 	i= i+1;
			// }

			for(var i = 0; i< 809; i = i+1){
				var p = document.createElement("p");
				p.innerHTML = stations[i].free_bikes + " : " + stations[i].name;
				document.body.appendChild(p);

			}
		} );
	</script>

</body>
</html>